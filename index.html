<!doctype html>
<html>
  <head>
    <title>nii example</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.11.0/themes/smoothness/jquery-ui.css">
    <script src="http://code.jquery.com/jquery-1.10.2.js"></script>
    <script src="http://code.jquery.com/ui/1.11.0/jquery-ui.js"></script>
  </head>
  <body>
    <img id="image" src="static/stack/citron.sub40241.jpg" />
    <div id="slider" style="width: 365px;"></div>
    <div id="loading" style="width: 365px;"><div id="loading-label">0/482 images</div></div>
    <script>
      $(function(){
          $('#loading').progressbar({
              max: 482,
              change: function(event, ui){
                  $('#loading-label').text($('#loading').progressbar("value") + '/482 images');
              }
          });
          for (i = 0 ; i <= 482 ; i++) {
              var value = i;
              if (value < 10)
                  value = "00" + value;
              else if (value < 100)
                  value = "0" + value;
              var img = $('<img/>');
              img.load(function(){
                  var value = $('#loading').progressbar("value");
                  $('#loading').progressbar("value", value + 1);
              });
              img[0].src = "static/stack/citron.sub40"+ value +".jpg";
          }

          $('#slider').slider({
              min: 0,
              max: 482,
              value: 241,
              slide: function(event, ui) {
                  var value = ui.value;
                  if (value < 10)
                      value = "00" + value;
                  else if (value < 100)
                      value = "0" + value;
                  $('#image').attr("src", "static/stack/citron.sub40"+ value +".jpg");
              },
          });
      });
    </script>
  </body>
</html>
